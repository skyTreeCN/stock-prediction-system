【每次开始工作是，先告诉cluade code如下规则】
今天的对话请你遵循如下规则
1. 不要主动 Read/Grep/Glob 文件
2. 不要使用 Task/Explore 工具
3. 只在我明确要求时才执行 Bash
4. 代码修改只输出 diff，不重写整段
5. 回答简洁，代码示例最小化
6.原则上，错误调查，在我确认命令后，由claude实施

明白请回复"OK"，然后等我的任务指令。

方法2：更明确
你："打开 c:\Users\c-li\Documents\Claude\Stock\工作计划.md，
    继续Tag2模式识别项目，从阶段零开始"


【工作过程中，要注意的事】
3. 分段式工作（关键！）
每完成一个小任务就 /clear 清空对话：
# 任务1：修改 CORS
→ 完成后 /clear

# 任务2：修改 Tab2 显示
→ 完成后 /clear
这样每个会话的 context 都很小。


样本分析50，100，500，1000，2000件时，从里面分析出8种+10种上涨模式，各自的分析成本给出预测
   分析的时候，不是接下来3天都上涨，而是3天后的收盘价，上涨10%以上。
给出上面样本数的AI分析陈本，和，称功率的关系，给出样本数的甜蜜点

给出claude 现在 的模型的数据，以及sonet新版模型的比较一览



你的建议没问题，可以按照 5样本-》 500样本实施。
不过，在这之前我想讨论一个式样
我们的步骤是（500 样本为例）
    step1 从股票数据里，随机从500个股票的数据里，提取？天的数据（多少天我不记得了，你告诉我）提交给AI，让AI从这些数据里提取出5种上涨模式，
             并给出上涨成功的概率(这个概率的提出有没有，我不记得了）
    step2 从最新的全部股票数据里取得最新30天的数据，由AI 跟5中上涨模式进行比较，比较相似性，相似性的程度，就是上涨概率。
上述的理解是不是正确，不是的话，现在的式样是怎样？

【1】 上面的式样知道了，【筛选条件: 连续3天收盘价上涨的股票】希望改的缓和一些，【筛选条件:3天后的收盘价，上涨10%（10%比较困难的话8%也可）】
【2】对于step1 通过AI得到的8-12种上涨模式，是不是整的有效，在step2之前，我希望加入以下的验证过程，我认为能在验证过程里，也有效的模式，
可信度更高，也应该是我这个系统的一个卖点，AI专家提取上涨模式 》过去数据 实际验证有效 》 推荐跟有效模式非常相似的股票，这个故事说起来，更有说服力
  验证过程
     提取每个股票的上个月一个月的数据，跟每种模式进行比对，符合模式的，刚才提取数据的最后一天的3天后，是不是上涨10%，是的话就算成功。
             这用于计算成功率，比如说，满足第一种模式的由20只股票，成功的有15只，成功率为75%，在tag2，每种模式给出称功率的时候，给两个称功率，一个是AI给的，一个是刚才计算出来的。
    这样的话，就变成了 step1，step2（追加），step3（前述step2）
【3】另外，现在的股票数据取得的时候，股票的代码，有不完善的地方，
希望改成，上证指数成分股（估计有1500多只股票）
能不能建立一个成分股股票一览的数据表，1 可以由用户自己定期更新（这个机能，放在tag1，单独给一个按钮），2，取数据的时候，从这个数据表里取股票名称，再取得股票数据，（去股票K线数据的时候，先看股票一栏数据表里有没有数据，如果没有，报错，提示先取得股票一览）
上面的式样，包括step1，step2，step3，接下来讨论完成后，更行到已做好的概要设计里面去。


我也倾向方案B，不过在那之前，想再讨论一下。
haiku的成本低，sonet的成本高，
我们有两次使用AI的地方，
  第一次  AI从上涨样本种，分析出上涨模式，这个是不是，原则上，样本数量越大，准确性越高，于是，可不可以分析一下，以下变量（还有其他变量的话，你来补充一下）
                   分析用样本数量，
                   模型总类（haiku，sonet）
                   所需费用
                   上涨概率
                   准确性（上涨概率的可信度）
              它们之间的关系，看看有甜蜜点在什么地方。
  第二次  AI拿各个股票的最近（30天？15天？）的数据，跟第一次分析出来的上涨模式，进行比较，用于验证各种模式，在实际中的准确新（即，满足模式条件下，是否成功达到上涨目标）
              这里面，有以下几个变量，
                  用于验证的股票数据的天数
                  第一次AI分析结果.上涨概率
                  第一次AI分析结果.准确性
                  第一次AI分析结果.上涨模式数量（5个，8个，10个？）
                  验证用的样本数量
                  所需费用
              它们之间的关系，看看有甜蜜点在什么地方。

第一次AI分析，和第二次AI验证，对于难度较低的，用haiku，难度较高的，用sonet（这个我判断不了），是不是可以通过上面的分析，能有一个相对准确的判断
上面的内容，你花时间仔细分析一下。

另外，咱们这些讨论，是重要的过程，你需要你需要吧讨论要点，实验结论都有所记录，在最后，我们使用的方案，还需要反映到已经完成的概要设计书（那个html版）里面去。





核心业务逻辑的第三章，我想写，tag3的内容，如何实现推荐的逻辑的。你查一下设计文旦或source，归纳出来我确认一下。

